<div class="row">
  <div class="col-md-12">
    <div class="row">
      <div class="col-md-6">
        <%= form.field_container :author_id do %>
          <%= form.label :author_id, Spree.t(:author_id) %><span class='required'>*</span><br/>
          <%= form.select :author_id, Spree.user_class.joins(:spree_roles).where("#{Spree::Role.table_name}.name" => "blogger").collect {|u| [u.email, u.id]}, {:include_blank => true}, :class => 'select2' %>
        <% end %>
      </div>
      <div class="col-md-1">
        <%= form.field_container :visible do %>
          <%= form.label :visible, Spree.t(:visible) %><br />
          <%= form.check_box :visible %>
        <% end %>
      </div> 
      <div class="col-md-1">
        <%= form.field_container :project do %>
          <%= form.label :project,  Spree.t(:project)  %><br />
          <%= form.check_box :project %>
        <% end %>
      </div>
      <div class="col-md-3">
        <%= form.field_container :published_at do %>
          <%= form.label :published_at, Spree.t(:published_at) %><br />
          <% if @blog_entry.published_at? %>
            <% published_at = l(@blog_entry.published_at, :format => Spree.t('date_picker.format')) %>
          <% else %>
            <% published_at = nil %>
          <% end %>
          <%= form.text_field :published_at, :value => published_at, :class => 'datepicker form-control' %>
        <% end %>
      </div>
      <div class="col-md-1">
        <%= form.label :mob_loc, Spree.t(:locale) %>
        <h2 class="mob-bdg"><span class="label label-info"><%= Mobility.locale %></span></h2>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <%= form.field_container :title do %>
          <%= form.label :title, Spree.t(:title) %> <span class="required">*</span><br />
          <%= form.text_field :title, :class => 'form-control' %>
        <% end %>
      </div>

      <div class="col-md-6">
        <%= form.field_container :permalink do %>
          <%= form.label :permalink, Spree.t(:permalink) %><br />
          <%= form.text_field :permalink, :class => 'form-control' %>
        <% end %>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 blog-entry-categories">
        <%= form.label Spree.t(:genres) %> 
        <%= form.select :genre_ids, Spree::Genre.all.collect{|t| [t.name, t.id]}, {prompt: 'Select Category'}, multiple: :true, class: 'chosen-select form-control'  %> 
      </div>
      <div class="col-md-6 blog-entry-categories">
        <%= form.label Spree.t(:tags) %> 
        <%= form.select :blog_tag_ids, Spree::Tag.all.collect{|t| [t.name, t.id]}, {prompt: 'Select Category'}, multiple: :true, class: 'chosen-select form-control'  %> 
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <%= label_tag Spree.t(:blog_entry_featured_image) %> <span class="required">*</span>
        <div class="row">

          <% @blog_entry.build_blog_entry_image unless @blog_entry.blog_entry_image %>
          <%= form.fields_for :blog_entry_image do |blog_entry_image_field| %>
            <%= form.field_container :blog_entry_image_attachment do %>

              <div class="col-md-5">
                <% if @blog_entry.blog_entry_image.new_record? %>
                  <div class="blog_entry_image_thumbnail">
                    <span class='lead'><%= Spree.t(:no_image) %></span>
                  </div>
                <% else %>
                  <div class="blog_entry_image_thumbnail">
                    <%= link_to image_tag(@blog_entry.blog_entry_image.attachment.url(:mini)), @blog_entry.blog_entry_image.attachment.url(:large) %>
                  </div>
                <% end %>
              </div>

              <div class="col-md-7">
                <%= blog_entry_image_field.label :attachment, class: 'btn btn-default pull-right' do %>
                  <i class="glyphicon glyphicon-save"></i> <%= Spree.t(:upload_image) %> 
              <% end %>
              <%= blog_entry_image_field.file_field :attachment %>
              </div>

            <% end %>

        </div>
      </div>
      <div class="col-md-6">
        <%= form.field_container :blog_entry_image_alt do %>
          <%= blog_entry_image_field.label :alt, Spree.t(:alt_text) %><br/>
          <%= blog_entry_image_field.text_field :alt, class: "form-control"  %>
        <% end %>
      <% end %>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <%= form.field_container :summary do %>
          <%= form.label :summary %><br />
          <%= form.text_area :summary, {:cols => 60, :rows => 6, :class => 'form-control sum-ctrl', :id => 'blog_entry_summary'} %>
        <% end %>
        <%= form.field_container :body do %>
          <%= form.label :body %> <span class="required">*</span><br/>
          <%= form.cktext_area :body, {:cols => 60, :rows => 8, :class => 'fullwidth', :id => 'blog_entry_body'} %>
        <% end %>
      </div>
    </div>
  </div>
</div>

